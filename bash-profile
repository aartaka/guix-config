# Honor per-interactive-shell startup file
if [ -f ~/.bashrc ]; then . ~/.bashrc; fi

# Set system time to the one given by hardware clock
# Multi-boot issues :(
hwclock -sl

# Activate all the profiles
for i in ~/.guix-extra-profiles/*; do
    profile=$i/$(basename "$i")
    if [ -f "$profile"/etc/profile ]; then
  		GUIX_PROFILE="$profile" ; . "$profile"/etc/profile
 		export MANPATH="$profile"/share/man:$MANPATH
 		export INFOPATH="$profile"/share/info:$INFOPATH
        export XDG_DATA_DIRS="$profile"/share:$XDG_DATA_DIRS
 		export XDG_CONFIG_DIRS="$profile"/etc/xdg:$XDG_CONFIG_DIRS
  	fi
    unset profile
done

# Set the proper SBCL_HOME
export SBCL_HOME="$(dirname -- $(dirname -- $(readlink -f $(which sbcl))))/lib/sbcl/"
# Fix for the scrolling problems of StumpWM and Nyxt
export GDK_CORE_DEVICE_EVENTS=1
